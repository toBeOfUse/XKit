{"id":"read_more_now","script":"//* TITLE Read More Now **//\n//* VERSION 2.0.3 **//\n//* DESCRIPTION Read Mores in your dash **//\n//* DETAILS This extension allows you to read &quot;Keep Reading&quot; posts without leaving your dash. Just click on the &quot;Read More Now!&quot; button on posts and XKit will automatically load and display the post on your dashboard. **//\n//* DEVELOPER New-XKit **//\n//* FRAME false **//\n//* BETA false **//\n\nXKit.extensions.read_more_now = new Object({\n\n\trunning: false,\n\tcache: {},\n\n\trun: function() {\n\t\tthis.running = true;\n\n\t\tif (!XKit.interface.is_tumblr_page()) {\n\t\t\treturn;\n\t\t}\n\n\t\tXKit.post_listener.add(\"read_more_now\", this.find_links);\n\t\tthis.find_links();\n\n\t\t$(document).on(\"click\", \".xreadmore:not(.disabled)\", function() {\n\t\t\tXKit.extensions.read_more_now.add_content($(this));\n\t\t});\n\t},\n\n\tfind_links: function() {\n\t\t$(\"a.tmblr-truncated-link:not(.xreadmore-done)\")\n\t\t\t.not(\"[contenteditable] a\")\n\t\t\t.addClass(\"xreadmore-done\")\n\t\t\t.each(function() {\n\t\t\t\tXKit.extensions.read_more_now.add_button($(this));\n\t\t\t});\n\t},\n\n\tadd_button: function($link) {\n\t\tconst href = $link.attr(\"href\");\n\t\tlet url;\n\t\tlet postID;\n\n\t\tif (!href.includes(\"t.umblr.com\")) {\n\t\t\t[url, /* discard */, postID] = href.split(\"://\")[1].split(\"/\");\n\t\t} else {\n\t\t\tlet $user_link = $link.parents(\".reblog-list-item\").find(\".reblog-tumblelog-name\");\n\t\t\tif (!$user_link.hasClass(\"inactive\") && $user_link.attr(\"data-peepr\")) {\n\t\t\t\ttry {\n\t\t\t\t\tlet data = JSON.parse($user_link.attr(\"data-peepr\"));\n\t\t\t\t\turl = data.tumblelog;\n\t\t\t\t\tpostID = data.postId;\n\t\t\t\t} catch (e) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\tthis.get_username(url).then(username =>\n\t\t\t$link.parent().after(\n\t\t\t\t`<div class=\"xkit-button default xreadmore block\" style=\"text-align:center\" xreadmore-url=\"${username}\" xreadmore-id=\"${postID}\">\n\t\t\t\t\tRead More Now!\n\t\t\t\t</div>`\n\t\t\t)\n\t\t);\n\t},\n\n\tget_username: url => {\n\t\tif (url.includes(\".tumblr.com\") || !url.includes(\".\")) {\n\t\t\tlet [username] = url.split(\".\");\n\t\t\treturn Promise.resolve(username);\n\t\t} else {\n\t\t\treturn fetch(`https://www.tumblr.com/api/v2/blog/${url}/info?api_key=${XKit.api_key}`)\n\t\t\t\t.then(response => response.json())\n\t\t\t\t.then(responseData => responseData.response.blog.name);\n\t\t}\n\t},\n\n\tadd_content: function($button) {\n\t\t$button.addClass(\"disabled\");\n\t\tlet username = $button.attr(\"xreadmore-url\");\n\t\tlet postID = $button.attr(\"xreadmore-id\");\n\n\t\tif (this.cache[postID] !== undefined) {\n\t\t\t$button\n\t\t\t\t.attr(\"style\", \"display: none !important\")\n\t\t\t\t.after(this.cache[postID]);\n\t\t} else {\n\t\t\t$button.text(\"Loading...\");\n\n\t\t\tXKit.svc.indash_blog({\n\t\t\t\ttumblelog_name_or_id: username,\n\t\t\t\tpost_id: postID,\n\t\t\t\tlimit: 1,\n\t\t\t\tshould_bypass_safemode: true,\n\t\t\t\tshould_bypass_tagfiltering: true\n\t\t\t})\n\t\t\t\t.then(response => {\n\t\t\t\t\tlet responseData = response.json().response;\n\t\t\t\t\tif (responseData.post_not_found_message) {\n\t\t\t\t\t\tthrow 404;\n\t\t\t\t\t}\n\n\t\t\t\t\tlet comment = responseData.posts[0].reblog.comment;\n\t\t\t\t\tlet readmore = comment.substring(comment.indexOf(\"[[MORE]]\") + 8);\n\t\t\t\t\tthis.cache[postID] = readmore;\n\t\t\t\t\t$button\n\t\t\t\t\t\t.attr(\"style\", \"display: none !important\")\n\t\t\t\t\t\t.after(readmore);\n\t\t\t\t})\n\t\t\t\t.catch(() =>\n\t\t\t\t\t$button.text(\"Couldn't load! Maybe it's deleted?\")\n\t\t\t\t);\n\t\t}\n\t},\n\n\tdestroy: function() {\n\t\tthis.running = false;\n\t\t$(document).off(\"click\", \".xreadmore:not(.disabled)\");\n\t\tXKit.post_listener.remove(\"read_more_now\");\n\t\t$(\".xreadmore-done\").removeClass(\"xreadmore-done\");\n\t\t$(\".xreadmore, .xreadmore ~ *\").remove();\n\t}\n\n});\n","file":"found","server":"up","errors":false,"icon":"data:image/png;base64,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\n","title":"Read More Now","description":"Read Mores in your dash","developer":"New-XKit","version":"2.0.3","details":"This extension allows you to read &quot;Keep Reading&quot; posts without leaving your dash. Just click on the &quot;Read More Now!&quot; button on posts and XKit will automatically load and display the post on your dashboard.","frame":"false","beta":"false","slow":"false"}