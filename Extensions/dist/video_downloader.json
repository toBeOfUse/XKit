{"id":"video_downloader","script":"//* TITLE Video Downloader **//\n//* VERSION 1.0.0 **//\n//* DESCRIPTION Adds a download button to the video player **//\n//* DETAILS Adds a simple download button to all videos using the fancy player. Does not support 3rd-party players or the native player. Disabled on beta dash (now supported natively) **//\n//* DEVELOPER tlitookilakin **//\n//* FRAME false **//\n//* BETA false **//\nXKit.extensions.video_downloader = new Object({\n\n\trunning: false,\n\n\trun: function() {\n\t\tthis.running = true;\n\t\tif (!XKit.interface.is_tumblr_page() || XKit.page.react) {\n\t\t\treturn;\n\t\t}\n\t\tXKit.tools.init_css(\"video_downloader\");\n\t\tXKit.extensions.video_downloader.addButtons();\n\t\tXKit.post_listener.add(\"video_downloader\", XKit.extensions.video_downloader.addButtons);\n\t},\n\n\tdestroy: function() {\n\t\tXKit.post_listener.remove(\"video_downloader\");\n\t\tthis.running = false;\n\t},\n\t\n\tmakeButton: function(url) {\n\t\tvar el = document.createElement(\"a\");\n\t\tvar filename = url.split(\"/\").pop();\n\t\tel.classList.add(\"xvd-button\");\n\t\tel.setAttribute(\"href\", url);\n\t\tel.setAttribute(\"target\", \"_blank\");\n\t\tel.setAttribute(\"download\", filename);\n\t\tel.innerText = \"Download this video\";\n\t\treturn el;\n\t},\n\t\n\taddButtons: function() {\n\t\tsetTimeout(function() {\n\t\t\tvar vids = document.querySelectorAll(\".crt-video:not(.xvd-processed)\");\n\t\t\tfor (var vid of vids) {\n\t\t\t\tvid.classList.add(\"xvd-processed\");\n\t\t\t\tvar sauce = vid.getElementsByTagName(\"source\");\n\t\t\t\tif (sauce.length > 0) {\n\t\t\t\t\tvar src = sauce[0].getAttribute(\"src\");\n\t\t\t\t\tvar button = XKit.extensions.video_downloader.makeButton(src);\n\t\t\t\t\tvid.appendChild(button);\n\t\t\t\t}\n\t\t\t}\n\t\t}, 1500);\n\t}\n});\n","file":"found","server":"up","errors":false,"icon":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAEsmlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS41LjAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgeG1sbnM6ZXhpZj0iaHR0cDovL25zLmFkb2JlLmNvbS9leGlmLzEuMC8iCiAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIKICAgIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIKICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIgogICAgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIKICAgZXhpZjpQaXhlbFhEaW1lbnNpb249IjY0IgogICBleGlmOlBpeGVsWURpbWVuc2lvbj0iNjQiCiAgIGV4aWY6Q29sb3JTcGFjZT0iMSIKICAgdGlmZjpJbWFnZVdpZHRoPSI2NCIKICAgdGlmZjpJbWFnZUxlbmd0aD0iNjQiCiAgIHRpZmY6UmVzb2x1dGlvblVuaXQ9IjIiCiAgIHRpZmY6WFJlc29sdXRpb249IjcyLjAiCiAgIHRpZmY6WVJlc29sdXRpb249IjcyLjAiCiAgIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiCiAgIHBob3Rvc2hvcDpJQ0NQcm9maWxlPSJzUkdCIElFQzYxOTY2LTIuMSIKICAgeG1wOk1vZGlmeURhdGU9IjIwMjAtMDMt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","css":".xvd-button {\n\tposition: absolute;\n\ttop: 2px;\n\tleft: 2px;\n\tdisplay: block;\n\toverflow: hidden;\n\theight: 32px;\n\twidth: 32px;\n\tmargin: 0px;\n\tpadding: 0px;\n\tpadding-left: 32px;\n\tbackground-image: none !important;\n\tz-index: 2;\n\tborder-radius: 6px;\n\topacity: .5;\n\ttransition: background-color .2s, opacity .2s;\n}\n.xvd-button:hover, .xvd-button:focus {\n\tbackground-color: rgba(0,0,0,.25);\n\topacity: 1;\n}\n.xvd-button::before {\n\tcontent: \"\";\n\tposition: absolute;\n\twidth: 32px;\n\theight: 32px;\n\tdisplay: block;\n\tleft: 0px;\n\tbackground-image: url(\"/images/dashboard_master_sprite.png\") !important;\n\tbackground-position: -237px -106px !important;\n\tbackground-size: 393px !important;\n\ttransform: scale(-1);\n}\n","title":"Video Downloader","description":"Adds a download button to the video player","developer":"tlitookilakin","version":"1.0.0","details":"Adds a simple download button to all videos using the fancy player. Does not support 3rd-party players or the native player. Disabled on beta dash (now supported natively)","frame":"false","beta":"false","slow":"false"}